{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Questions{% endblock %}</h1>
  <!-- {% if g.user %}
    <a class="action" href="{{ url_for('question.create') }}">New</a>
  {% endif %} -->
{% endblock %}

{% block content %}
{{ pagination.links }}
  {% for post in posts %}
  <div class="container-fluid">
    <article class="post">
      <header>
        <div>
          <h2><a class="action blog-header" href="{{ url_for('question.que', id=post['qid']) }}"> {{ post['title'] }}</a></h2>
          <div class="profile-pic" style="text-align: right" >
          <a href="{{ url_for('auth.profile',id=post['author_id']) }}" ><img width="30px" height="30px" class="image-fluid" src="{{ url_for('static', filename='images/default.png')}}"></a>
          <p class="about blog-description" style="text-align: right">by {{ post['username'] }} on {{ post['created'].strftime('%Y-%m-%d') }}</p>
          </div>
        </div>
        {% if g.user['id'] == post['author_id'] %}
        <div style="text-align:right">
            {{ loop.index + (page - 1) * per_page }}
          <a class="action" href="{{ url_for('question.update', id=post['qid']) }}"><i class="far fa-edit">Edit</i></a>
        </div>
        {% endif %}
      </header>
    </article>
    <!-- {% if not loop.last %} -->
      <hr>
  </div>
    {% endif %}
  {% endfor %}
  {{ pagination.links }}
{% endblock %}
